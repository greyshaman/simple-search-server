<img src="https://github.com/greyshaman/simple-search-server/raw/refs/heads/master/images/orig%20-%202024-09-26T112502.725.webp" width="50%">

# Simple Search Server

Простой поисковый движок с базовой функциональностью индексирования текстовых файлов для последующего поиска. Он представляет собой консольное приложение, работа которого настраивается при помощи конфигурационного файла [config.json](#конфигурация), а поисковые запросы предоставляются при помощи файла [requests.json](#поисковые-запросы). После индексации файлов с текстовой информацией и считывания поисковых запросов, движок генерирует [answers.json](#результаты-поиска) с соответствующими ответами.

Этот проект может быть использован для дальнейшего встраивания в поисковый сервер, работающий в интерактивном режиме, например, на веб или через любой удобный интерфейс взаимодействия. Вся функциональная часть реализована в виде библиотеки, которую можно включить в другом проекте. Также имеется простейшая запускаемая консольная оболочка для демонстрации работы с библиотекой. 

## Описание 

Идеей создания этого проекта послужило учебное задание создать поисковый движок на с++. Собственно проект и есть результат выполнения этого интересного задания.

### Конфигурация

Для настройки поискового движка предлагается использовать файл _config.json_. Без этого файла конфигурации приложение не сможет работать. Поэтому, если файл _config.json_ не окажется в том же каталоге, что и исполняемый файл приложения, оно завершит свою работу и выдаст ошибку.

Пример конфигурационного файла _config.json_:

```json
{
  "config": {
    "name": "SearchServerEngine",
    "version": "0.1",
    "max_responses": 5
  },
  "files": [
    "./file001.txt",
    "./file002.txt",
    "./file003.txt",
    "./file004.txt"
  ]
}
```

- В секции ```config``` применяются следующие параметры:
  - ```name``` служит для указания названия приложения;
  - ```version``` указывает для какой версии поискового движка этот файл. Если версии не совпадут, то приложение выдаст ошибку;
  - ```max_responses``` устанавливает количество ранжированных ответов для каждого запроса. Этот параметр удобен для отсеивания несущественных результатов.
- В секции ```files``` перечисляются файлы с текстом, по которым будет производиться поиск.

Приложение автоматически обходит указанные текстовые документы и строит поисковый индекс.

Настоящая версия поискового движка рассчитана на обработку текстов, со словами состоящих из латинских букв, разделённых одним или несколькими пробелами. Каждый документ может содержать не более **1000** слов с максимальной длиной каждого слова не более **100** символов.  

### Поисковые запросы

Поисковые запросы представляют собой набор слов, разделённых пробелами, для которых нужно найти наиболее вероятные текстовые документы, в которых они встречаются. Запросы должны перечисляться в виде списка в файле _requests.json_.

Пример _requests.json_:

```json
{
  "requests": [
	  "milk water",
	  "sugar"
  ]
}
```

В настоящей версии поискового движка можно задать не более **1000** запросов и каждый запрос может включать в себя не более **10** слов.

### Результаты поиска

Сопоставив поисковые запросы с созданным индексом вхождения слов в текстовые документы, поисковый движок создаёт файл _answers.json_ с результатами, показывающими, насколько часто слова из запроса встречаются в каждом исходном текстовом документе.

Пример _answers.json_:

```json
{
    "answers": {
        "request001": {
            "relevance": [
                {
                    "docid": 2,
                    "rank": 1.0
                },
                {
                    "docid": 0,
                    "rank": 0.699999988079071
                },
                {
                    "docid": 1,
                    "rank": 0.30000001192092896
                }
            ],
            "result": "true"
        },
        "request002": {
            "result": "false"
        }
    }
}
```

Где ```answers``` содержит список пронумерованных первоначальных запросов. Секции запросов типа ```requestNNN``` могут содержать различные результаты:
- Если слова из запроса не встречаются ни в одном текстовом документе, то единственным полем в нём будет ```"result": "false"```
- Если слова из запроса встречаются только в одном документе, то секция запросы будет выглядеть следующим образом::

  ```json
  "request003": {
  	"docid": 3,
  	"rank": 1.0,
  	"result": "true"
  }
  ```
  
- Если слова из запроса встречаются в нескольких файлах, то секция с результатами для запроса будет выглядеть примерно так:

  ```json
  "request001": {
  	"relevance": [
  		{
                    "docid": 2,
                    "rank": 1.0
                },
                {
                    "docid": 0,
                    "rank": 0.699999988079071
                },
                {
                    "docid": 1,
                    "rank": 0.30000001192092896
                }
            ],
  	"result": "true"
  },
  ```

```doc_id``` - это номер текстового документа в списке ```files``` из [config.json](#конфигурация). ```rank``` - это относительная релевантность, показывающая, насколько часто слова из запроса встречаются в данном текстовом документе.
